{% extends 'SyliusUiBundle:Layout:sidebar.html.twig' %}

{% block title %} | Sylius{% endblock %}

{% block stylesheets %}
    {% include 'SyliusUiBundle::_stylesheets.html.twig' with {'path': 'assets/admin/css/style.css'} %}
    {{ sonata_block_render_event('sylius.admin.layout.stylesheets') }}
{% endblock %}

{% block flash_messages %}
    {% include '@SyliusAdmin/_flashes.html.twig' %}
{% endblock %}

{% block topbar %}
    <a class="icon item" id="sidebar-toggle" title="{{ 'sylius.ui.toggle_sidebar'|trans }}">
        <i class="sidebar icon"></i>
    </a>

    {{ sonata_block_render_event('sylius.admin.layout.topbar_left') }}

    {{ render(url('sylius_admin_partial_channel_index', {'template': '@SyliusAdmin/_channelLinks.html.twig'})) }}
    {% include '@SyliusAdmin/_search.html.twig' %}

    <div class="ui left floated dividing empty item"></div>

    {{ sonata_block_render_event('sylius.admin.layout.topbar_middle') }}

    <div class="ui right floated dividing empty item"></div>

    {{ sylius_render_notifications_widget() }}
    {% include '@SyliusAdmin/_security.html.twig' %}

    {{ sonata_block_render_event('sylius.admin.layout.topbar_right') }}
{% endblock %}

{% block sidebar %}
    {{ sonata_block_render_event('sylius.admin.layout.sidebar_top') }}

    <a class="item" href="{{ path('sylius_admin_dashboard') }}"><b>Sylius</b></a>
    {{ knp_menu_render('sylius.admin.main', {'template': 'SyliusUiBundle:Menu:sidebar.html.twig', 'currentClass': 'active'}) }}

    {{ sonata_block_render_event('sylius.admin.layout.sidebar_down') }}
{% endblock %}

{% block footer %}
    {{ 'sylius.ui.powered_by'|trans }} <a href="http://sylius.com" target="_blank">Sylius v{{ sylius_meta.version }}</a>
{% endblock %}

{% block javascripts %}
    {% include 'SyliusUiBundle::_javascripts.html.twig' with {'path': 'assets/admin/js/app.js'} %}
    <script src="{{ asset('bundles/acmesyliustranslationplugin/translation.js') }}"></script>
    {{ sonata_block_render_event('sylius.admin.layout.javascripts') }}
{% endblock %}

{% block content %}
{#
{{ 'sylius.form.currency.base'|trans({}, 'messages', locale.code) }}
#}
{% if locales|length > 1 %}
    <select id="acme_sylius_translation_plugin_locale">
    {% for localeItem in locales %}
        <option value="{{ localeItem.code }}" {{ localeItem.code == locale.code ? ' selected="selected"' : '' }}>{{ localeItem.name }}</option>
    {% endfor %}
    </select>
{% endif %}

<div class="ui segment overflow-x-auto">
    {% if messages|length > 0 %}
        <table class="ui sortable stackable celled table">
            <thead>
            <tr>
                <th>Scope</th>
                <th>Domain</th>
                <th>Message</th>
            </tr>
            </thead>
            <tbody>
                {% for category, domainMessages in messages %}
                    {% for domain, message in domainMessages %}
                        <tr><td>{{ category }}</td><td>{{ domain }}</td><td>{{ message }}</td></tr>
                    {% endfor %}
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        {{ messages.info('sylius.ui.no_results_to_display') }}
    {% endif %}
</div>
{% endblock %}
