<div class="ui segment">
    <div class="ui two column stackable grid">
        <div class="ten wide column">
            <h2 id="message_list_title">All</h2>
        </div>
        <div class="six wide column">
            <div class="ui green inverted button tiny" style="float: right;"
                 onclick="SyliusTranslationPlugin.showSetMessageModal($('#addDomainMessageModal'));">
                <i class="add icon"></i>
                Add
            </div>
        </div>
    </div>
    <div class="ui grid" id="domainMessagesContainer">
        {% for domain, emptyTranslations in fullMessageCatalogue.all() %}
            {% set translations = localeMessageCatalogue.all(domain) %}
            {% set customTranslations = customMessageCatalogue.all(domain) %}
            {% for id, emptyTranslation in emptyTranslations %}
                {% set translation = '' %}
                {% set isTranslated = id in translations | keys %}
                {% if isTranslated == true %}
                    {% set translation = translations[id] %}
                {% endif %}
                {% set isCustom = id in customTranslations | keys %}
                {% if isCustom == true %}
                    {% set translation = customTranslations[id] %}
                {% endif %}
                {% set showId = id | truncate(50) %}
                {% set isIdTruncated = false %}
                {% if showId | length != id | length %}
                    {% set isIdTruncated = true %}
                {% endif %}
                <div class="row translationRow" data-locale-code="{{ currentLocale.code }}" data-domain="{{ domain }}"
                     data-id="{{ id }}" data-translation="{{ translation }}"
                     data-is-custom="{{ isCustom }}" data-is-translated="{{ isTranslated }}">
                    <div class="six wide column message-domain">
                        <div class="ui big label fluid"{% if isIdTruncated == true %} data-tooltip="{{ id }}" data-inverted="" data-position="top center"{% endif %}>
                            {% if isTranslated == true %}
                                <i class="icon check circle outline green"></i>
                                {% if isCustom == true %}
                                    <i class="icon cog teal"></i>
                                {% endif %}
                            {% else %}
                                <i class="icon circle outline red"></i>
                            {% endif %}
                            {% if isIdTruncated == true %}
                                <i class="icon ellipsis horizontal yellow"></i>
                            {% endif %}
                            <span class="fluid">{{ showId }}</span>
                        </div>
                    </div>
                    <div class="ten wide column">
                        <div class="ui icon input fluid">
                            <input class="translation_input" placeholder="{{ translation }}" value="{{ translation }}"
                                   type="text">
                            <i class="edit link icon"
                               onclick="SyliusTranslationPlugin.editTranslation(this);"></i>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    </div>
</div>
<div class="ui basic modal" id="addDomainMessageModal" data-locale-code="{{ currentLocale.code }}"
     data-domain="{{ selectedDomain }}">
    <div class="ui icon header">
        Add new message in "{{ selectedDomain }}" domain for
        "{{ currentLocale.name|trans([], null, defaultLocale.code) }}"
        locale
    </div>
    <div class="content">
        <div class="ui center aligned grid">
            <div class="sixteen wide column">
                <div class="ui labeled inverted input">
                    <div class="ui label">
                        {{ 'translation_id'|trans([], pluginTranslationDomain, currentLocale.code) }}
                    </div>
                    <input placeholder="id" id="addDomainMessageModal_translationIdInput" type="text">
                </div>
            </div>
            <div class="sixteen wide column">
                <div class="ui labeled inverted input">
                    <div class="ui label">
                        {{ 'translation'|trans([], pluginTranslationDomain, currentLocale.code) }}
                    </div>
                    <input placeholder="translation" id="addDomainMessageModal_translationInput" type="text">
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <div class="ui red basic cancel inverted button">
            <i class="remove icon"></i>
            Cancel
        </div>
        <div class="ui green ok inverted button">
            <i class="checkmark icon"></i>
            Apply
        </div>
    </div>
</div>